{% extends "base.html" %}
{% load static %}

{% block title %}
  {% if language == "es" %}
    Juan Peñate · Blog Técnico
  {% else %}
    Juan Peñate · Technical Blog
  {% endif %}
{% endblock %}

{% block head %}
  <link rel="stylesheet" href="{% static 'css/customs/_tooltip.css' %}" />
{% endblock %}

{% block content %}
  <section class="max-w-5xl mx-auto px-6 py-12 space-y-12">

  <!-- Imagen representativa en ancho completo, altura fija -->
    <div class="relative w-full rounded-xl overflow-hidden border border-light-border dark:border-dark-border shadow-md" data-aos="fade-down">
      <img src="{% static 'images/blogs/main.png' %}" alt="Blog principal"
           class="w-full h-64 object-cover object-center" />

    <!-- Ícono de pregunta con tooltip -->
      <div class="absolute top-2 right-2 z-10">
        <span class="tooltip-target cursor-pointer text-light-primary dark:text-dark-primary"
              data-tooltip="{% if language == 'es' %}Imagen generada por IA{% else %}Image generated by AI{% endif %}"
              data-placement="bottom">
          <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none"
               stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
               class="lucide lucide-file-question-icon lucide-file-question text-light-accent dark:text-dark-accent">
            <path d="M12 17h.01" />
            <path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z" />
            <path d="M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3" />
          </svg>
        </span>
      </div>
    </div>


  <!-- Encabezado principal -->
    <div class="text-center" data-aos="fade-down">
      <h1 class="text-3xl md:text-5xl font-bold text-light-primary dark:text-dark-primary mb-2">
        The Code Chronicle
      </h1>
      <p class="text-light-secondary dark:text-dark-secondary max-w-2xl mx-auto">
        {% if language == "es" %}
          Reflexiones, tutoriales y aprendizajes sobre desarrollo web, automatización y más.
        {% else %}
          Reflections, tutorials and learnings on web development, automation and more.
        {% endif %}
      </p>
    </div>

  <!-- Input de búsqueda -->
    <div class="max-w-lg mx-auto" data-aos="fade-down">
      <input type="text" name="search" placeholder="{% if language == 'es' %}Buscar entradas...{% else %}Search posts...{% endif %}"
             class="w-full px-4 py-3 rounded-lg border border-light-border dark:border-dark-border bg-light-background dark:bg-dark-background text-light-primary dark:text-dark-primary shadow-sm focus:ring-2 focus:ring-light-accent dark:focus:ring-dark-accent focus:outline-none transition">
    </div>

  <!-- Listado de entradas -->
    <div class="space-y-8">
      {% for post in posts %}
        <article class="bg-light-backgroundOverlay dark:bg-dark-backgroundOverlay border border-light-border dark:border-dark-border rounded-xl p-6 shadow-sm hover:shadow-md" data-aos="fade-up">
          <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-2 mb-2">
            <h2 class="text-xl font-semibold text-light-primary dark:text-dark-primary">
              {{ post.title }}
            </h2>
            <span class="text-sm text-light-secondary dark:text-dark-secondary">
              {{ post.created_at|date:"d M Y" }}
            </span>
          </div>
          <p class="text-sm text-light-secondary dark:text-dark-secondary mb-4">
            {{ post.summary }}
          </p>
          <a href="{{ post.get_absolute_url }}" class="text-sm font-medium text-light-accent dark:text-dark-accent hover:underline">
            {% if language == "es" %} Leer más → {% else %} Read more → {% endif %}
          </a>
        </article>
      {% empty %}
        <p class="text-center text-light-secondary dark:text-dark-secondary">
          {% if language == "es" %} No hay entradas disponibles. {% else %} No posts available. {% endif %}
        </p>
      {% endfor %}
    </div>



  </section>
{% endblock %}

{% block js %}
  <script src="{% static 'js/customs/_tooltip.js' %}"></script>
{% endblock %}
