{% extends "base.html" %}
{% block title %}Juan Pe√±ate ¬∑ Desarrollador Fullstack{% endblock %}
{% block content %}
  {% load static %}
  <!-- Hero principal -->
  <section class="max-w-5xl mx-auto px-6 pt-10 pb-24 grid grid-cols-1 md:grid-cols-2 items-center gap-12">
    <!-- left column - TEXT -->
    <div class="text-center md:text-left flex flex-col items-center md:items-start" data-aos="zoom-in">
      <h1 class="text-4xl md:text-6xl font-bold mb-6 text-light-primary dark:text-dark-primary">
        {{ greeting }}
      </h1>
      <div class="flex items-center gap-4 mb-6" data-aos="fade-up">
        <img src="{% static 'images/gif/welcome_sticker.gif' %}"
             alt="Saludo animado"
             class="w-10 h-10 md:w-12 md:h-12 object-contain align-middle" />
        <p class="text-xl text-light-secondary dark:text-dark-secondary mb-0 leading-none">
          {{ welcome_text }}
        </p>
      </div>
      <p class="text-sm text-light-secondary dark:text-dark-secondary mb-6" data-aos="fade-down-left">
{#        üë®‚Äçüíº Soy {{ profile.role }} con +{{ experience_time }} a√±o(s) de experiencia.#}
        üë®‚Äçüíº Soy {{ role }} con +{{ experience_time }} a√±o(s) de experiencia.
      </p>
      {% for bio in biographies %}
        <p class="text-sm text-light-secondary dark:text-dark-secondary mb-6" data-aos="fade-down-left">
          {{ bio }}
        </p>
      {% endfor %}
      <div class="flex flex-wrap gap-3 mb-6 justify-center md:justify-start relative">
        <a href="{% url 'core:projects' %}"
           class="px-5 py-2 rounded-full text-sm font-medium text-white bg-light-accent dark:bg-dark-accent hover:opacity-90 transition">
          Ver proyectos
        </a>
        <!-- dropdown with button -->
        <div class="relative">
          <button id="contactDropdownBtn"
                  class="px-5 py-2 rounded-full text-sm font-medium border border-light-border dark:border-dark-border text-light-primary dark:text-dark-primary hover:bg-light-border/10 dark:hover:bg-dark-border/10 transition inline-flex items-center"
                  type="button">
            Contactar
            <svg class="w-2.5 h-2.5 ml-2" fill="none" viewBox="0 0 6 10" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 1l4 4-4 4" />
            </svg>
          </button>
          <div id="contactDropdown"
               class="absolute md:left-full md:top-1/2 md:-translate-y-1/2 md:ml-2 left-0 top-full mt-2 w-48 rounded-md shadow-lg bg-light-backgroundOverlay dark:bg-dark-backgroundOverlay ring-1 ring-light-border/10 dark:ring-dark-border/10 opacity-0 scale-95 pointer-events-none transition-all duration-200 md:origin-left origin-top z-50">
            <div class="py-1 text-sm text-light-primary dark:text-dark-primary">
              {% for social in global_socials %}
                {% if social.show_in_navbar == False %}
                  <a href="{{ social.url }}" target="_blank"
                     class="block px-4 py-2 hover:bg-light-border/10 dark:hover:bg-dark-border/10 transition">
                    {{ social.icon|safe }} {{ social.name }}
                  </a>
                {% endif %}
              {% endfor %}
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Right column - profile image -->
    <div class="flex justify-center md:justify-center" data-aos="fade-left">
      {% if profile.profile_pic %}
        <img src="{{ profile.profile_pic.url }}" alt="Foto de {{ profile.name }}"
             class="w-60 h-60 rounded-full border-4 border-light-border dark:border-dark-border shadow-lg object-cover" />
      {% endif %}
    </div>
  </section>

  <!-- knowledge section -->
  <section class="max-w-5xl mx-auto px-6 pb-24" data-aos="fade-up">
    <h2 class="text-lg font-semibold text-light-primary dark:text-dark-primary flex items-center gap-2 mb-6">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
           viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
           stroke-linecap="round" stroke-linejoin="round"
           class="lucide lucide-book-icon lucide-book w-5 h-5 text-light-accent dark:text-dark-accent">
        <path d="M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20"/>
      </svg>
      Conocimientos
    </h2>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
      {% for category, items in skills_by_category.items %}
        <div>
          <h3 class="text-sm font-semibold mb-2 flex items-center gap-2 text-light-accent dark:text-dark-accent">
            {{ category }}
          </h3>
          <div class="flex flex-wrap gap-2">
            {% for skill in items %}
              <span class="px-3 py-1 bg-light-backgroundOverlay dark:bg-dark-backgroundOverlay border border-light-border dark:border-dark-border rounded-full text-sm">{{ skill }}</span>
            {% endfor %}
          </div>
        </div>
      {% endfor %}
    </div>
  </section>

  <!-- Work Section -->
  <section class="max-w-5xl mx-auto px-6 pb-24 pt-6" data-aos="fade-down">
    <div class="bg-light-backgroundOverlay dark:bg-dark-backgroundOverlay border border-light-border dark:border-dark-border rounded-xl p-6 shadow-md">
      <h2 class="text-lg font-semibold text-light-primary dark:text-dark-primary flex items-center gap-2 mb-6">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-briefcase w-5 h-5 text-light-accent dark:text-dark-accent">
          <rect x="2" y="7" width="20" height="14" rx="2" /><path d="M16 3h-4a2 2 0 0 0-2 2v2h8V5a2 2 0 0 0-2-2z" />
        </svg>
        Trayectoria
      </h2>
      <ul class="space-y-5">
        {% for job in works %}
          <li class="flex justify-between items-center">
            <div class="flex items-center gap-4">
              {% if job.logo %}
                <img src="{{ job.logo.url }}" alt="Logo de {{ job.company }}" class="w-5 h-5 object-contain" />
              {% endif %}
              <div>
                <p class="text-light-primary dark:text-dark-primary font-medium">{{ job.company }}</p>
                <p class="text-light-secondary dark:text-dark-secondary text-sm">{{ job.position }}</p>
              </div>
            </div>
            <span class="text-light-secondary dark:text-dark-secondary text-sm">{{ job.start }} ‚Äî {{ job.end }}</span>
          </li>
        {% endfor %}
      </ul>
    </div>
  </section>
{% endblock %}
